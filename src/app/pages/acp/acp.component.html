<div class="descripcion">
  <h2>{{ translationService.translateKey('acp1') }}</h2>
  <p>{{ translationService.translateKey('acp2') }}
  </p>
  <p>{{ translationService.translateKey('acp3') }}
  </p>
  <br />

  <p><strong>{{ translationService.translateKey('acp4') }}</strong></p>
  <form [formGroup]="formulariodenumero" (submit)="setnumberofnewlabels()" class="listofinputs">
    <mat-form-field>
      <mat-label>{{ translationService.translateKey('acp5') }}</mat-label>
      <input matInput [formControlName]="'numberofnewlabels'" type="number" required />
    </mat-form-field>
    <button mat-raised-button type="submit" id="submitButtom" color="primary" style="margin-left: 20px">
      {{ translationService.translateKey('acp6') }}
    </button>
    <button mat-raised-button type="button" style="margin-left: 15px; background-color: #0F753E; color: white;"
      (click)="saveData()">
      <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="2em" width="3em"
        xmlns="http://www.w3.org/2000/svg">
        <g>
          <path fill="none" d="M0 0h24v24H0z"></path>
          <path
            d="M2.859 2.877l12.57-1.795a.5.5 0 0 1 .571.495v20.846a.5.5 0 0 1-.57.495L2.858 21.123a1 1 0 0 1-.859-.99V3.867a1 1 0 0 1 .859-.99zM17 3h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4V3zm-6.8 9L13 8h-2.4L9 10.286 7.4 8H5l2.8 4L5 16h2.4L9 13.714 10.6 16H13l-2.8-4z">
          </path>
        </g>
      </svg>
    </button>
  </form>
  <p>{{ translationService.translateKey('acp7') }}</p>
  <p *ngIf="isMayor">
    {{ translationService.translateKey('acp8') }}
  </p>

  <div style="display: flex">
    <div *ngIf="!isMayor && isOne && !isStandarizezACP" style="width: 40%">
      <div style="display: flex; align-items: baseline">
        <h2>{{ translationService.translateKey('acp9') }}</h2>
        <button *ngIf="!this.isStandarizezACP" mat-button color="primary" style="margin: 10px"
          (click)="standarizeACP()">
          {{ translationService.translateKey('acp10') }}
        </button>
        <button *ngIf="this.isStandarizezACP" mat-button color="primary" style="margin: 10px" (click)="standarizeACP()">
          {{ translationService.translateKey('acp11') }}
        </button>
      </div>
      <app-scartt-chart [scarttChartData]="dataset1"></app-scartt-chart><br />
    </div>
    <div *ngIf="!isMayor && isTwo && !isStandarizezACP" style="width: 40%">
      <div style="display: flex; align-items: baseline">
        <h2>{{ translationService.translateKey('acp9') }}</h2>
        <button *ngIf="!this.isStandarizezACP" mat-button color="primary" style="margin: 10px"
          (click)="standarizeACP()">
          {{ translationService.translateKey('acp10') }}
        </button>
        <button *ngIf="this.isStandarizezACP" mat-button color="primary" style="margin: 10px" (click)="standarizeACP()">
          {{ translationService.translateKey('acp11') }}
        </button>
      </div>
      <app-scartt-chart [scarttChartData]="dataset2"></app-scartt-chart><br />
    </div>
    <div *ngIf="!isMayor && isOne && isStandarizezACP" style="width: 40%">
      <div style="display: flex; align-items: baseline">
        <h2>{{ translationService.translateKey('acp12') }}</h2>
        <button *ngIf="!this.isStandarizezACP" mat-button color="primary" style="margin: 10px"
          (click)="standarizeACP()">
          {{ translationService.translateKey('acp10') }}
        </button>
        <button *ngIf="this.isStandarizezACP" mat-button color="primary" style="margin: 10px" (click)="standarizeACP()">
          {{ translationService.translateKey('acp11') }}
        </button>
      </div>
      <app-scartt-chart [scarttChartData]="dataset1Stand"></app-scartt-chart><br />
    </div>
    <div *ngIf="!isMayor && isTwo && isStandarizezACP" style="width: 40%">
      <div style="display: flex; align-items: baseline">
        <h2>{{ translationService.translateKey('acp12') }}</h2>
        <button *ngIf="!this.isStandarizezACP" mat-button color="primary" style="margin: 10px"
          (click)="standarizeACP()">
          {{ translationService.translateKey('acp10') }}
        </button>
        <button *ngIf="this.isStandarizezACP" mat-button color="primary" style="margin: 10px" (click)="standarizeACP()">
          {{ translationService.translateKey('acp11') }}
        </button>
      </div>
      <app-scartt-chart [scarttChartData]="dataset2Stand"></app-scartt-chart><br />
    </div>
  </div>
  <br /><br />
  <div *ngIf="sendIsPressed && !isMayor">
    <div *ngIf="!isStandarizezACP" style="text-align: start; align-items: start">
      <div style="display: flex; align-items: baseline">
        <br /><br />
        <h2>{{ translationService.translateKey('acp13') }}</h2>
        <button mat-button color="primary" id="ShowACP" (click)="showPredictionsFun()">
          {{ translationService.translateKey('acp14') }}
        </button>
      </div>
      <div *ngIf="showPredictions" class="tableForScroll">
        <table sty>
          <thead>
            <tr>
              <th *ngFor="let i of lenghtOfData">PC{{ i + 1 }}</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let row of resultPCA">
              <td *ngFor="let pred of row">{{ pred | numberFormat }}</td>
            </tr>
          </tbody>
        </table>
      </div>
      <br />
    </div>
    <div *ngIf="isStandarizezACP">
      <div style="display: flex; align-items: baseline">
        <br /><br />
        <h2>{{ translationService.translateKey('acp5') }}</h2>
        <button mat-button color="primary" id="ShowACP2" (click)="showPredictionsFun()">
          {{ translationService.translateKey('acp14') }}
        </button>
      </div>
      <div *ngIf="showPredictions" class="tableForScroll">
        <table>
          <thead>
            <tr>
              <th *ngFor="let i of lenghtOfData">PC{{ i + 1 }}</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let row of resultPCAStand">
              <td *ngFor="let vs of row">{{ vs | numberFormat }}</td>
            </tr>
          </tbody>
        </table>
      </div>
      <br />
    </div>
  </div>
  <div class="PCA" *ngIf="sendIsPressed && !isMayor">
    <br /><br />
    <div style="display: flex; align-items: baseline">
      <h2>{{ translationService.translateKey('acp16') }}</h2>
      <button mat-button color="primary" id="showProperties" (click)="showPropertiesTable()">
        {{ translationService.translateKey('acp14') }}
      </button>
    </div>
    <div *ngIf="showProperties" style="display: flex; flex-direction: row; text-align: left">
      <table>
        <thead>
          <tr>
            <th style="width: 10%"></th>
            <th>{{ translationService.translateKey('acp17') }}</th>
            <th>{{ translationService.translateKey('acp18') }}</th>
            <th>{{ translationService.translateKey('acp19') }}</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let i of lenghtOfData">
            <td>PC{{ i + 1 }}</td>
            <td>{{ pcaCumuVal[i] * 100 | number : ".1-2" }}%</td>
            <td>{{ pcaEigenValues[i] | numberFormat }}</td>
            <td>{{ pcaStandDev[i] | numberFormat }}</td>
          </tr>
        </tbody>
      </table>
    </div>
    <br /><br />
    <div>
      <div style="display: flex; align-items: baseline">
        <h2>{{ translationService.translateKey('acp20') }}</h2>
        <button mat-button color="primary" id="showEigenVectors" (click)="showEigenVectorsTable()">
          {{ translationService.translateKey('acp14') }}
        </button>
      </div>
      <div *ngIf="showEigenVectors" class="tableForScroll">
        <table>
          <tbody>
            <tr *ngFor="let row of pcaEigenVectors">
              <td *ngFor="let data of row">{{ data | numberFormat }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>